---
title: AWS 云搜索
description: 搜索引擎模块
published: true
date: 2023-03-16T08:45:00.000Z
tags: 
editor: markdown
dateCreated: 2023-01-08T10:36:57.632Z
---

Amazon 云搜索是 AWS 云中的一项托管服务，可让您以简单且经济高效的方式为您的网站或应用程序设置、管理和扩展搜索解决方案。

# 配置

## 创建搜索域名

1. 登录您的 [AWS 控制台](https://console.aws.amazon.com)
1. 创建一个新的**云搜索**域名。
1. 给您的域起一个名字，选择所需的实例类型，然后单击 **继续**。
1. 在 **配置索引** 步骤中，选择 **手动配置索引**。单击 **继续**。
1. 在 **检查索引配置** 步骤中，将所有内容留空并单击 **继续**。
1. 输入访问策略并**继续**。建议通过安装 Wiki.js 的服务器的 IP 进行限制。
1. 最后，创建域名。

## 创建搜索用户

1. 在 [IAM](https://console.aws.amazon.com/iam)中, 点击**用户**.
1. 点击 **添加用户**.
1. 输入一个 **用户名** (例如： wikisearch) 并确保 **编程访问** 已被启用。 点击 **下一步: 权限**.
1. 选择 **直接附加现有策略** ，搜索 **CloudSearchFullAccess** 并选择它。
1. 继续执行后续步骤以创建用户。
1. 记下 **Access Key ID** 和 **Secret Access Key**。

## 配置 Wiki.js
1. 在 Wiki.js 管理区中，单击侧边栏中的 **搜索引擎**。
1. 选择 **AWS 云搜索** 作为搜索引擎。
1. 输入您刚刚创建的 AWS 云端搜索域的 **搜索域名**。这是您在创建新域时输入的名称。
1. 输入 **文档 Endpoint**，可在 AWS 控制台的搜索域仪表板中找到。
1. 选择创建搜索域时设定的**区域**。
1. 输入之前生成的**Access Key ID**和**Secret Access Key**。
1. 选择用于分析方案的语言。
1. 单击 **应用** 按钮保存并初始化搜索引擎。系统将自动创建一个索引。

请注意，如果您的 wiki 中已有内容，则必须在之后单击 **重建索引** 以将所有现有内容导入搜索引擎。从此时起，任何更改（新建、编辑、删除页面）都将自动处理。
